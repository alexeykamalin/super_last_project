
<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta http-equiv="Cache-Control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <title>ML project lk</title>
        {% include '_head.html' %}
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/main.css') }}">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='/css/style.css') }}">
    </head>
    <body>
    <div class="container-fluid">
      <input type="hidden" id='options' user_id="{{user.id}}">
      {% if user.is_admin %}
      <div class='main'>
        <div class='row'>
          <div class='col caption'><b>{{user.name}}</b></div>
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>Статус: админ</div>
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>
            <form method="POST" action="/api/users/logout">
              <button type="submit" class="btn btn-primary">Выйти из аккаунта</button>
            </form>
          </div>
        </div>
        <hr>
        <div class='row' style="margin-top: 50px;">
          <div class='col-lg-12 col-sm-12'>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">айди</th>
                  <th scope="col">Логин</th>
                  <th scope="col">Имя</th>
                  <th scope="col">Статус</th>
                  <th scope="col">Действия</th>
                </tr>
              </thead>
              <tbody>
              {% for elem in users %}
              <tr>
                <td>{{elem.id}}</td>
                <td>{{elem.email}}</td>
                <td>{{elem.name}}</td>
                <td>{% if elem.is_admin %}Админ{% else %}Пользователь{% endif %}</td>
                <td>{% if elem.email != user.email %}<button type="button" data-bs-toggle="modal" id='del_{{elem.id}}' name="{{elem.name}}" data-bs-target="#deletemodal" class="delete_user btn btn-danger">Удалить аккаунт</button>{% endif %}</td>
              </tr>
              {% endfor %}
            </table>
          </div>
        </div>
        <hr>
      </div>
      {% else %}
      <div class='main'>
        <div class='row'>
          <div class='col-lg-12 col-sm-12 caption'><b>{{user.name}}</b></div>
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>Статус: обучающийся</div> 
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>Логин: {{user.email}}</div>
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>Id: {{user.hashed_name}}</div>
        </div>
        <hr>
        <div class='row' style="margin-top: 50px;">
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>
            Данный сервис предназначен для предсказания результата ЕГЭ по математике. <br/>Для предсказания необходимо, заполнить поля ниже.<br/>Укажтите Ваши оценки по предметам, и результат ЕГКР по математике. <br/>После заполнения нажмите кнопку "Предсказать" и получите результат. 
          </div>
        </div>
        <div class='row' style="margin-top: 50px;">
          <div class='col-lg-6 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Алгебра</div>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="a1" placeholder="Оценка за 1 триместр">
                  <label for="floatingInput">1 триместр</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="a2" placeholder="Оценка за 2 триместр">
                  <label for="floatingInput">2 триместр</label>
                </div>
              </div>
            </div>
            <div class="row" style="margin-top: 20px;">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="a3" placeholder="Оценка за 3 триместр">
                  <label for="floatingInput">3 триместр</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="ag" placeholder="Оценка за год">
                  <label for="floatingInput">Годовая</label>
                </div>
              </div>
            </div>
          </div>
          <div class='col-lg-6 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Геометрия</div>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="g1" placeholder="Оценка за 1 триместр">
                  <label for="floatingInput">1 триместр</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="g2" placeholder="Оценка за 2 триместр">
                  <label for="floatingInput">2 триместр</label>
                </div>
              </div>
            </div>
            <div class="row" style="margin-top: 20px;">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="g3" placeholder="Оценка за 3 триместр">
                  <label for="floatingInput">3 триместр</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="gg" placeholder="Оценка за год">
                  <label for="floatingInput">Годовая</label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class='row' style="margin-top: 50px;">
          <div class='col-lg-6 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Информатика</div>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="i1" placeholder="Оценка за 1 триместр">
                  <label for="floatingInput">1 триместр</label>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="i2" placeholder="Оценка за 2 триместр">
                  <label for="floatingInput">2 триместр</label>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="i3" placeholder="Оценка за 3 триместр">
                  <label for="floatingInput">3 триместр</label>
                </div>
              </div>
            </div>
            <div class="row" style="margin-top: 20px;">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="ia" placeholder="Оценка в аттестате">
                  <label for="floatingInput">Аттестат</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="ig" placeholder="Оценка за год">
                  <label for="floatingInput">Годовая</label>
                </div>
              </div>
            </div>
          </div>
          <div class='col-lg-6 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Физика</div>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="f1" placeholder="Оценка за 1 триместр">
                  <label for="floatingInput">1 триместр</label>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="f2" placeholder="Оценка за 2 триместр">
                  <label for="floatingInput">2 триместр</label>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="f3" placeholder="Оценка за 2 триместр">
                  <label for="floatingInput">3 триместр</label>
                </div>
              </div>    
            </div>
            <div class="row" style="margin-top: 20px;">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="fa" placeholder="Оценка в аттестате">
                  <label for="floatingInput">Аттестат</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="fg" placeholder="Оценка за год">
                  <label for="floatingInput">Годовая</label>
                </div>
              </div>
            </div>
          </div>
        </div> 

        <div class='row' style="margin-top: 50px;">
          <div class='col-lg-6 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Русский язык</div>
            </div>
            <div class="row">
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="r1" placeholder="Оценка за 1 триместр">
                  <label for="floatingInput">1 триместр</label>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="r2" placeholder="Оценка за 2 триместр">
                  <label for="floatingInput">2 триместр</label>
                </div>
              </div>
              <div class="col-lg-4">
                <div class="form-floating">
                  <input type="text" class="form-control" id="r3" placeholder="Оценка за 3 триместр">
                  <label for="floatingInput">3 триместр</label>
                </div>
              </div>
            </div>
            <div class="row" style="margin-top: 20px;">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="ra" placeholder="Оценка в аттестате">
                  <label for="floatingInput">Аттестат</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="rg" placeholder="Оценка за год">
                  <label for="floatingInput">Годовая</label>
                </div>
              </div>
            </div>
          </div>
          <div class='col-lg-6 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Практикумы</div>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="pri" placeholder="Практикум информатика">
                  <label for="floatingInput">Информатика</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="prm" placeholder="Практикум математика">
                  <label for="floatingInput">Математика</label>
                </div>
              </div>   
            </div>
            <div class="row" style="margin-top: 20px;">
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="prr" placeholder="Практикум русский язык">
                  <label for="floatingInput">Русский язык</label>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="prf" placeholder="Практикум физика">
                  <label for="floatingInput">Физика</label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class='row' style="margin-top: 50px;">
          <div class='col-lg-12 col-sm-12 icon1'>
            <div class="row">
              <div class="col-lg-12 subcaption1">Результат ЕГКР</div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <div class="form-floating">
                  <input type="text" class="form-control" id="egkr" placeholder="Оценка за ЕГКР">
                  <label for="floatingInput">Результат в процентах</label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class='row' style="margin-top: 50px; margin-bottom: 50px;">
          <div class='col-lg-12 col-sm-12' style='text-align: center; font-size: 20px;'>
            <button type="button" class="btn btn-primary" id="get_prediction">Предсказать</button>
          </div>
        </div>
      {% endif %}
    </body>
    {% if user.is_admin %}
    <div class="modal fade" id="deletemodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Удаление пользователя</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class='row'>
                <div class='col-lg-12 col-sm-12 alert alert-primary'>
                    Вы уверены, что хотите удалить
                </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-bs-alert="modal" id="delete_user">Удалить</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
          </div>
        </div>
      </div>
    </div>
    {% else %}
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Пополнение баланса</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class='row'>
                <div class='col-lg-12 col-sm-12 alert alert-primary main_body'>
                    Введите количество средств для пополнения
                    <input id="tugrik"/>
                </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-alert="modal" id="add_balance">Пополнить</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    
<!--===============================================================================================-->
  {% include '_footer.html' %}
<!--===============================================================================================-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/0857309370.js" crossorigin="anonymous"></script>
	<script src="{{ url_for('static', path='/js/index.js') }}"></script>
</html>